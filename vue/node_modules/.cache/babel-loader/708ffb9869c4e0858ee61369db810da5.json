{"remainingRequest":"D:\\daima\\java\\springboot\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\daima\\java\\springboot\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\daima\\java\\springboot\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\daima\\java\\springboot\\vue\\src\\views\\HandlePaper.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\daima\\java\\springboot\\vue\\src\\views\\HandlePaper.vue","mtime":1681562505909},{"path":"D:\\daima\\java\\springboot\\vue\\babel.config.js","mtime":1642682271570},{"path":"D:\\daima\\java\\springboot\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670775870315},{"path":"D:\\daima\\java\\springboot\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1670775870320},{"path":"D:\\daima\\java\\springboot\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670775870315},{"path":"D:\\daima\\java\\springboot\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1670775868363}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBJdCBmcm9tICJlbGVtZW50LXVpL3NyYy9sb2NhbGUvbGFuZy9pdCI7CmltcG9ydCByZXF1ZXN0IGZyb20gIkAvdXRpbHMvcmVxdWVzdCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSGFuZGxlUGFwZXIiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzcDogdGhpcy4kcm91dGUucXVlcnkuc3AsCiAgICAgIHBhcGVyczogW10sCiAgICAgIHN0dWRlbnRJZDogJycKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLnJlcXVlc3QuZ2V0KCIvc3R1ZGVudFBhcGVyLyIgKyB0aGlzLnNwKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgaWYgKHJlcy5jb2RlID09PSAnMjAwJykgewogICAgICAgIF90aGlzLnBhcGVycyA9IEpTT04ucGFyc2UocmVzLmRhdGEucGFwZXIpOwoKICAgICAgICBpZiAoX3RoaXMucGFwZXJzICYmIF90aGlzLnBhcGVycy5sZW5ndGgpIHsKICAgICAgICAgIF90aGlzLnBhcGVycy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09IDEgfHwgaXRlbS50eXBlID09PSAyIHx8IGl0ZW0udHlwZSA9PT0gNCB8fCBpdGVtLnR5cGUgPT09IDUpIHsKICAgICAgICAgICAgICBpZiAoaXRlbS5hbnN3ZXIgPT09IGl0ZW0uc3R1ZGVudEFuc3dlcikgewogICAgICAgICAgICAgICAgaXRlbS5zdHVkZW50U2NvcmUgPSBpdGVtLnNjb3JlOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpdGVtLnN0dWRlbnRTY29yZSA9IDA7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOyAvL+iOt+WPluWtpueUn2lkCgogICAgcmVxdWVzdC5nZXQoIi9zdHVkZW50UGFwZXIvIiArIHRoaXMuc3ApLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBpZiAocmVzLmNvZGUgPT09ICcyMDAnKSB7CiAgICAgICAgX3RoaXMuc3R1ZGVudElkID0gcmVzLmRhdGEudXNlcklkOwogICAgICB9CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdFNjb3JlOiBmdW5jdGlvbiBzdWJtaXRTY29yZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgc3VtID0gMDsKICAgICAgdmFyIHBhcmFtID0gW107CiAgICAgIHRoaXMucGFwZXJzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpZiAoaXRlbS5zdHVkZW50U2NvcmUgPT0gbnVsbCkgewogICAgICAgICAgaXRlbS5zdHVkZW50U2NvcmUgPSAwOwogICAgICAgIH0KCiAgICAgICAgc3VtICs9IHBhcnNlSW50KGl0ZW0uc3R1ZGVudFNjb3JlKTsKCiAgICAgICAgaWYgKGl0ZW0uc3R1ZGVudFNjb3JlICE9IGl0ZW0uc2NvcmUpIHsKICAgICAgICAgIHBhcmFtLnB1c2goewogICAgICAgICAgICAicXVlc3Rpb25JZCI6IGl0ZW0uaWQsCiAgICAgICAgICAgICJzdHVkZW50SWQiOiBfdGhpczIuc3R1ZGVudElkLAogICAgICAgICAgICAic3R1ZGVudFBhcGVySWQiOiBfdGhpczIuc3AsCiAgICAgICAgICAgICJzdHVkZW50QW5zd2VyIjogaXRlbS5zdHVkZW50QW5zd2VyLAogICAgICAgICAgICAic3R1ZGVudFNjb3JlIjogaXRlbS5zdHVkZW50U2NvcmUsCiAgICAgICAgICAgICJjb3Vyc2VJZCI6IGl0ZW0uY291cnNlSWQKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJlcXVlc3QucG9zdCgiL3dyb25nL2FsbCIsIEpTT04uc3RyaW5naWZ5KHBhcmFtKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAnMjAwJykgewogICAgICAgICAgY29uc29sZS5sb2coIueUn+aIkOmUmemimOaIkOWKnyIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMucmVxdWVzdC5wdXQoIi9zdHVkZW50UGFwZXIiLCB7CiAgICAgICAgaWQ6IHRoaXMuc3AsCiAgICAgICAgc2NvcmU6IHN1bSwKICAgICAgICBwYXBlcjogSlNPTi5zdHJpbmdpZnkodGhpcy5wYXBlcnMpLAogICAgICAgIHN0YXR1czogMQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09ICcyMDAnKSB7CiAgICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKCIvc3R1ZGVucGFwZXIiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["HandlePaper.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n<div>\r\n  <el-table :data=\"papers\" border stripe :header-cell-class-name=\"'headerBg'\">\r\n    <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n    <el-table-column prop=\"id\" label=\"ID\" width=\"80\" sortable></el-table-column>\r\n    <el-table-column prop=\"name\" label=\"题目\"></el-table-column>\r\n    <el-table-column prop=\"type\" label=\"类型\">\r\n      <template v-slot=\"scope\">\r\n        <span v-if=\"scope.row.type===1\" >选择题</span>\r\n        <span v-if=\"scope.row.type===2\">判断题</span>\r\n        <span v-if=\"scope.row.type===3\">问答题</span>\r\n        <span v-if=\"scope.row.type===4\">多选题</span>\r\n        <span v-if=\"scope.row.type===5\">填空题</span>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column prop=\"score\" label=\"分数\"></el-table-column>\r\n    <el-table-column prop=\"answer\" label=\"标准答案\"></el-table-column>\r\n    <el-table-column prop=\"studentAnswer\" label=\"学生答案\"></el-table-column>\r\n    <el-table-column prop=\"studentScore\" label=\"得分\">\r\n      <template v-slot=\"scope\">\r\n        <el-input type=\"text\" v-model=\"scope.row.studentScore\"></el-input>\r\n      </template>\r\n    </el-table-column>\r\n  </el-table>\r\n\r\n  <el-button @click=\"submitScore\">提交</el-button>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport It from \"element-ui/src/locale/lang/it\";\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n  name: \"HandlePaper\",\r\n  data(){\r\n    return{\r\n      sp:this.$route.query.sp,\r\n      papers:[],\r\n      studentId:'',\r\n\r\n    }\r\n  },\r\n  created() {\r\n    this.request.get(\"/studentPaper/\"+this.sp).then(res=>{\r\n      if (res.code==='200'){\r\n        this.papers=JSON.parse(res.data.paper)\r\n        if (this.papers&&this.papers.length){\r\n          this.papers.forEach(item=>{\r\n            if (item.type===1 || item.type===2 || item.type===4 || item.type===5){\r\n              if (item.answer === item.studentAnswer){\r\n                item.studentScore=item.score\r\n              }else {\r\n                item.studentScore=0\r\n            }\r\n            }\r\n          })\r\n        }\r\n      }\r\n    })\r\n    //获取学生id\r\n    request.get(\"/studentPaper/\"+this.sp).then(res=> {\r\n        if (res.code ==='200'){\r\n          this.studentId =res.data.userId\r\n        }\r\n    })\r\n  },\r\n  methods:{\r\n    submitScore(){\r\n      let sum=0\r\n      const param = []\r\n      this.papers.forEach(item=>{\r\n        if (item.studentScore==null){\r\n          item.studentScore=0\r\n        }\r\n         sum+=parseInt(item.studentScore)\r\n        if (item.studentScore != item.score){\r\n          param.push({\"questionId\":item.id, \"studentId\":this.studentId,\"studentPaperId\":this.sp,\r\n            \"studentAnswer\":item.studentAnswer, \"studentScore\": item.studentScore,\"courseId\": item.courseId})\r\n        }\r\n      })\r\n      request.post(\"/wrong/all\",JSON.stringify(param)).then(res =>{\r\n        if (res.code ==='200'){\r\n          console.log(\"生成错题成功\")\r\n        }\r\n      })\r\n      this.request.put(\"/studentPaper\",{id:this.sp,score:sum,paper:JSON.stringify(this.papers),status:1}).then(res=>{\r\n        if (res.code==='200'){\r\n          this.$router.push(\"/studenpaper\")\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/views"}]}