{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-01fa6ad1\"],{\"4b71\":function(e,t,l){\"use strict\";l(\"7322\")},7322:function(e,t,l){},e254:function(e,t,l){\"use strict\";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l(\"div\",[l(\"div\",{staticStyle:{margin:\"10px 0\"}},[l(\"el-input\",{staticStyle:{width:\"200px\"},attrs:{placeholder:\"请输入题干\",\"suffix-icon\":\"el-icon-search\"},model:{value:e.name,callback:function(t){e.name=t},expression:\"name\"}}),l(\"el-select\",{attrs:{placeholder:\"请选择课程\"},model:{value:e.courseId,callback:function(t){e.courseId=t},expression:\"courseId\"}},e._l(e.courses,(function(e){return l(\"el-option\",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),l(\"el-select\",{attrs:{placeholder:\"请选择题型\"},model:{value:e.type,callback:function(t){e.type=t},expression:\"type\"}},e._l([{name:\"选择题\",value:1},{name:\"判断题\",value:2},{name:\"问答题\",value:3}],(function(e){return l(\"el-option\",{key:e.value,attrs:{label:e.name,value:e.value}})})),1),l(\"el-button\",{staticClass:\"ml-5\",attrs:{type:\"primary\"},on:{click:e.load}},[e._v(\"搜索\")]),l(\"el-button\",{attrs:{type:\"warning\"},on:{click:e.reset}},[e._v(\"重置\")])],1),l(\"div\",{staticStyle:{margin:\"10px 0\"}},[l(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.handleAdd}},[e._v(\"新增 \"),l(\"i\",{staticClass:\"el-icon-circle-plus-outline\"})]),l(\"el-popconfirm\",{staticClass:\"ml-5\",attrs:{\"confirm-button-text\":\"确定\",\"cancel-button-text\":\"我再想想\",icon:\"el-icon-info\",\"icon-color\":\"red\",title:\"您确定批量删除这些数据吗？\"},on:{confirm:e.delBatch}},[l(\"el-button\",{attrs:{slot:\"reference\",type:\"danger\"},slot:\"reference\"},[e._v(\"批量删除 \"),l(\"i\",{staticClass:\"el-icon-remove-outline\"})])],1)],1),l(\"el-table\",{attrs:{data:e.tableData,border:\"\",stripe:\"\",\"header-cell-class-name\":\"headerBg\"},on:{\"selection-change\":e.handleSelectionChange}},[l(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\"}}),l(\"el-table-column\",{attrs:{prop:\"id\",label:\"ID\",width:\"80\",sortable:\"\"}}),l(\"el-table-column\",{attrs:{prop:\"name\",label:\"题干\"}}),l(\"el-table-column\",{attrs:{label:\"所属课程\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[l(\"span\",[e._v(e._s(e.courses.find((function(e){return e.id===t.row.courseId})).name))])]}}])}),l(\"el-table-column\",{attrs:{prop:\"type\",label:\"类型\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[1===t.row.type?l(\"span\",[e._v(\"选择题\")]):e._e(),2===t.row.type?l(\"span\",[e._v(\"判断题\")]):e._e(),3===t.row.type?l(\"span\",[e._v(\"问答题\")]):e._e()]}}])}),l(\"el-table-column\",{attrs:{prop:\"score\",label:\"分数\"}}),l(\"el-table-column\",{attrs:{prop:\"userId\",label:\"出题人id\"}}),l(\"el-table-column\",{attrs:{prop:\"detial\",label:\"解析\"}}),l(\"el-table-column\",{attrs:{prop:\"time\",label:\"出题时间\"}}),l(\"el-table-column\",{attrs:{prop:\"answer\",label:\"答案\"}}),l(\"el-table-column\",{attrs:{label:\"操作\",width:\"180\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[l(\"el-button\",{attrs:{type:\"success\"},on:{click:function(l){return e.handleEdit(t.row)}}},[e._v(\"编辑 \"),l(\"i\",{staticClass:\"el-icon-edit\"})]),l(\"el-popconfirm\",{staticClass:\"ml-5\",attrs:{\"confirm-button-text\":\"确定\",\"cancel-button-text\":\"我再想想\",icon:\"el-icon-info\",\"icon-color\":\"red\",title:\"您确定删除吗？\"},on:{confirm:function(l){return e.del(t.row.id)}}},[l(\"el-button\",{attrs:{slot:\"reference\",type:\"danger\"},slot:\"reference\"},[e._v(\"删除 \"),l(\"i\",{staticClass:\"el-icon-remove-outline\"})])],1)]}}])})],1),l(\"div\",{staticStyle:{padding:\"10px 0\"}},[l(\"el-pagination\",{attrs:{\"current-page\":e.pageNum,\"page-sizes\":[2,5,10,20],\"page-size\":e.pageSize,layout:\"total, sizes, prev, pager, next, jumper\",total:e.total},on:{\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}})],1),l(\"el-dialog\",{attrs:{title:\"信息\",visible:e.dialogFormVisible,width:\"40%\",\"close-on-click-modal\":!1},on:{\"update:visible\":function(t){e.dialogFormVisible=t}}},[l(\"el-form\",{staticStyle:{width:\"80%\",margin:\"0 auto\"},attrs:{\"label-width\":\"120px\",size:\"small\"}},[l(\"el-form-item\",{attrs:{label:\"课程\"}},[l(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:e.form.courseId,callback:function(t){e.$set(e.form,\"courseId\",t)},expression:\"form.courseId\"}},e._l(e.courses,(function(e){return l(\"el-option\",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),l(\"el-form-item\",{attrs:{label:\"类型\"}},[l(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:e.form.type,callback:function(t){e.$set(e.form,\"type\",t)},expression:\"form.type\"}},e._l([{name:\"选择题\",value:1},{name:\"判断题\",value:2},{name:\"问答题\",value:3}],(function(e){return l(\"el-option\",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),l(\"el-form-item\",{attrs:{label:\"题干\"}},[l(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.form.name,callback:function(t){e.$set(e.form,\"name\",t)},expression:\"form.name\"}})],1),1===e.form.type?l(\"el-form-item\",{attrs:{label:\"选项a\"}},[l(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.form.a,callback:function(t){e.$set(e.form,\"a\",t)},expression:\"form.a\"}})],1):e._e(),1===e.form.type?l(\"el-form-item\",{attrs:{label:\"选项b\"}},[l(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.form.b,callback:function(t){e.$set(e.form,\"b\",t)},expression:\"form.b\"}})],1):e._e(),1===e.form.type?l(\"el-form-item\",{attrs:{label:\"选项c\"}},[l(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.form.c,callback:function(t){e.$set(e.form,\"c\",t)},expression:\"form.c\"}})],1):e._e(),1===e.form.type?l(\"el-form-item\",{attrs:{label:\"选项d\"}},[l(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.form.d,callback:function(t){e.$set(e.form,\"d\",t)},expression:\"form.d\"}})],1):e._e(),2===e.form.type?l(\"el-form-item\",{attrs:{label:\"答案\"}},[l(\"el-radio\",{attrs:{label:\"是\"},model:{value:e.form.answer,callback:function(t){e.$set(e.form,\"answer\",t)},expression:\"form.answer\"}},[e._v(\"是\")]),l(\"el-radio\",{attrs:{label:\"否\"},model:{value:e.form.answer,callback:function(t){e.$set(e.form,\"answer\",t)},expression:\"form.answer\"}},[e._v(\"否\")])],1):1===e.form.type?l(\"el-form-item\",{attrs:{label:\"答案\"}},[l(\"el-radio\",{attrs:{label:\"A\"},model:{value:e.form.answer,callback:function(t){e.$set(e.form,\"answer\",t)},expression:\"form.answer\"}},[e._v(\"A\")]),l(\"el-radio\",{attrs:{label:\"B\"},model:{value:e.form.answer,callback:function(t){e.$set(e.form,\"answer\",t)},expression:\"form.answer\"}},[e._v(\"B\")]),l(\"el-radio\",{attrs:{label:\"C\"},model:{value:e.form.answer,callback:function(t){e.$set(e.form,\"answer\",t)},expression:\"form.answer\"}},[e._v(\"C\")]),l(\"el-radio\",{attrs:{label:\"D\"},model:{value:e.form.answer,callback:function(t){e.$set(e.form,\"answer\",t)},expression:\"form.answer\"}},[e._v(\"D\")])],1):3===e.form.type?l(\"el-form-item\",{attrs:{label:\"答案\"}},[l(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.form.answer,callback:function(t){e.$set(e.form,\"answer\",t)},expression:\"form.answer\"}})],1):e._e(),l(\"el-form-item\",{attrs:{label:\"分数\"}},[l(\"el-input-number\",{attrs:{min:1,max:20,step:\"5\",label:\"描述文字\"},on:{change:e.handleChange},model:{value:e.form.score,callback:function(t){e.$set(e.form,\"score\",t)},expression:\"form.score\"}})],1),l(\"el-form-item\",{attrs:{label:\"解析\"}},[l(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.form.detial,callback:function(t){e.$set(e.form,\"detial\",t)},expression:\"form.detial\"}})],1)],1),l(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[l(\"el-button\",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(\"取 消\")]),l(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.save}},[e._v(\"确 定\")])],1)],1)],1)},o=[],r=(l(\"b0c0\"),l(\"e9c4\"),l(\"d81d\"),{name:\"Question\",data:function(){return{tableData:[],total:0,pageNum:1,pageSize:10,name:\"\",type:\"\",courseId:\"\",form:{},dialogFormVisible:!1,multipleSelection:[],user:localStorage.getItem(\"user\")?JSON.parse(localStorage.getItem(\"user\")):{},courses:[],handleQuestionId:[]}},created:function(){var e=this;this.load(),this.request.get(\"/course\").then((function(t){e.courses=t.data}))},methods:{load:function(){var e=this;this.request.get(\"/question/page\",{params:{pageNum:this.pageNum,pageSize:this.pageSize,name:this.name,type:this.type,courseId:this.courseId}}).then((function(t){e.tableData=t.data.records,e.total=t.data.total}))},save:function(){var e=this;this.request.post(\"/question\",this.form).then((function(t){\"200\"===t.code?(e.$message.success(\"保存成功\"),e.dialogFormVisible=!1,e.load()):e.$message.error(\"保存失败\")}))},handleAdd:function(){var e=this;this.dialogFormVisible=!0,this.form={},this.$nextTick((function(){e.$refs.img&&e.$refs.img.clearFiles(),e.$refs.file&&e.$refs.file.clearFiles()}))},handleEdit:function(e){var t=this;this.form=JSON.parse(JSON.stringify(e)),this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs.img&&t.$refs.img.clearFiles(),t.$refs.file&&t.$refs.file.clearFiles()}))},del:function(e){var t=this;this.request.delete(\"/question/\"+e).then((function(e){\"200\"===e.code?(t.$message.success(\"删除成功\"),t.load()):t.$message.error(\"删除失败\")}))},handleSelectionChange:function(e){console.log(e),this.multipleSelection=e},delBatch:function(){var e=this;if(this.multipleSelection.length){var t=this.multipleSelection.map((function(e){return e.id}));this.request.post(\"/question/del/batch\",t).then((function(t){\"200\"===t.code?(e.$message.success(\"批量删除成功\"),e.load()):e.$message.error(\"批量删除失败\")}))}else this.$message.error(\"请选择需要删除的数据\")},reset:function(){this.name=\"\",this.type=\"\",this.courseId=\"\",this.load()},handleSizeChange:function(e){console.log(e),this.pageSize=e,this.load()},handleCurrentChange:function(e){console.log(e),this.pageNum=e,this.load()},handleFileUploadSuccess:function(e){this.form.file=e},handleImgUploadSuccess:function(e){this.form.img=e},download:function(e){window.open(e)},exp:function(){window.open(\"http://localhost:9090/question/export\")},handleExcelImportSuccess:function(){this.$message.success(\"导入成功\"),this.load()}}}),n=r,s=(l(\"4b71\"),l(\"2877\")),i=Object(s[\"a\"])(n,a,o,!1,null,null,null);t[\"default\"]=i.exports},e9c4:function(e,t,l){var a=l(\"23e7\"),o=l(\"da84\"),r=l(\"d066\"),n=l(\"2ba4\"),s=l(\"e330\"),i=l(\"d039\"),c=o.Array,u=r(\"JSON\",\"stringify\"),m=s(/./.exec),f=s(\"\".charAt),d=s(\"\".charCodeAt),p=s(\"\".replace),b=s(1..toString),h=/[\\uD800-\\uDFFF]/g,g=/^[\\uD800-\\uDBFF]$/,v=/^[\\uDC00-\\uDFFF]$/,y=function(e,t,l){var a=f(l,t-1),o=f(l,t+1);return m(g,e)&&!m(v,o)||m(v,e)&&!m(g,a)?\"\\\\u\"+b(d(e,0),16):e},w=i((function(){return'\"\\\\udf06\\\\ud834\"'!==u(\"\\udf06\\ud834\")||'\"\\\\udead\"'!==u(\"\\udead\")}));u&&a({target:\"JSON\",stat:!0,forced:w},{stringify:function(e,t,l){for(var a=0,o=arguments.length,r=c(o);a<o;a++)r[a]=arguments[a];var s=n(u,null,r);return\"string\"==typeof s?p(s,h,y):s}})}}]);","extractedComments":[]}