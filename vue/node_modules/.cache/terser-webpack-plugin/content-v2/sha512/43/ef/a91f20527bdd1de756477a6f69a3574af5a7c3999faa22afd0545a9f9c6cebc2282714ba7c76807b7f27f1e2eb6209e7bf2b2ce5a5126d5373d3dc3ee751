{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-34eaa8b0\"],{\"13b2\":function(e,t,o){\"use strict\";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(\"div\",[o(\"div\",{staticStyle:{margin:\"10px 0\"}},[o(\"el-input\",{staticStyle:{width:\"200px\"},attrs:{placeholder:\"请输入名称\",\"suffix-icon\":\"el-icon-search\"},model:{value:e.name,callback:function(t){e.name=t},expression:\"name\"}}),o(\"el-button\",{staticClass:\"ml-5\",attrs:{type:\"primary\"},on:{click:e.load}},[e._v(\"搜索\")]),o(\"el-button\",{attrs:{type:\"warning\"},on:{click:e.reset}},[e._v(\"重置\")])],1),o(\"div\",{staticStyle:{margin:\"10px 0\"}},[o(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.handleAdd}},[e._v(\"新增 \"),o(\"i\",{staticClass:\"el-icon-circle-plus-outline\"})]),o(\"el-popconfirm\",{staticClass:\"ml-5\",attrs:{\"confirm-button-text\":\"确定\",\"cancel-button-text\":\"我再想想\",icon:\"el-icon-info\",\"icon-color\":\"red\",title:\"您确定批量删除这些数据吗？\"},on:{confirm:e.delBatch}},[o(\"el-button\",{attrs:{slot:\"reference\",type:\"danger\"},slot:\"reference\"},[e._v(\"批量删除 \"),o(\"i\",{staticClass:\"el-icon-remove-outline\"})])],1)],1),o(\"el-table\",{attrs:{data:e.tableData,border:\"\",stripe:\"\",\"header-cell-class-name\":\"headerBg\"},on:{\"selection-change\":e.handleSelectionChange}},[o(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\"}}),o(\"el-table-column\",{attrs:{prop:\"id\",label:\"ID\",width:\"80\",sortable:\"\"}}),o(\"el-table-column\",{attrs:{prop:\"name\",label:\"考试名称\"}}),o(\"el-table-column\",{attrs:{prop:\"room\",label:\"考试地点\"}}),o(\"el-table-column\",{attrs:{prop:\"time\",label:\"考试时间\"}}),o(\"el-table-column\",{attrs:{prop:\"teacher\",label:\"监考老师\"}}),o(\"el-table-column\",{attrs:{prop:\"state\",label:\"考试状态\"}}),o(\"el-table-column\",{attrs:{label:\"所属课程\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[o(\"span\",[e._v(e._s(e.courses.find((function(e){return e.id===t.row.courseId})).name))])]}}])}),o(\"el-table-column\",{attrs:{prop:\"teacher\",label:\"选择试卷\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[o(\"el-button\",{attrs:{type:\"success\"},on:{click:function(o){return e.handleSelect(t.row)}}},[e._v(\"选择 \"),o(\"i\",{staticClass:\"el-icon-edit\"})])]}}])}),o(\"el-table-column\",{attrs:{label:\"操作\",width:\"180\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[o(\"el-button\",{attrs:{type:\"success\"},on:{click:function(o){return e.handleEdit(t.row)}}},[e._v(\"编辑 \"),o(\"i\",{staticClass:\"el-icon-edit\"})]),o(\"el-popconfirm\",{staticClass:\"ml-5\",attrs:{\"confirm-button-text\":\"确定\",\"cancel-button-text\":\"我再想想\",icon:\"el-icon-info\",\"icon-color\":\"red\",title:\"您确定删除吗？\"},on:{confirm:function(o){return e.del(t.row.id)}}},[o(\"el-button\",{attrs:{slot:\"reference\",type:\"danger\"},slot:\"reference\"},[e._v(\"删除 \"),o(\"i\",{staticClass:\"el-icon-remove-outline\"})])],1)]}}])})],1),o(\"div\",{staticStyle:{padding:\"10px 0\"}},[o(\"el-pagination\",{attrs:{\"current-page\":e.pageNum,\"page-sizes\":[2,5,10,20],\"page-size\":e.pageSize,layout:\"total, sizes, prev, pager, next, jumper\",total:e.total},on:{\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}})],1),o(\"el-dialog\",{attrs:{title:\"信息\",visible:e.dialogFormVisible,width:\"40%\",\"close-on-click-modal\":!1},on:{\"update:visible\":function(t){e.dialogFormVisible=t}}},[o(\"el-form\",{staticStyle:{width:\"80%\",margin:\"0 auto\"},attrs:{\"label-width\":\"120px\",size:\"small\"}},[o(\"el-form-item\",{attrs:{label:\"考试名称\"}},[o(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.form.name,callback:function(t){e.$set(e.form,\"name\",t)},expression:\"form.name\"}})],1),o(\"el-form-item\",{attrs:{label:\"考试地点\"}},[o(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.form.room,callback:function(t){e.$set(e.form,\"room\",t)},expression:\"form.room\"}})],1),o(\"el-form-item\",{attrs:{label:\"考试时间\"}},[o(\"el-date-picker\",{attrs:{type:\"datetime\",\"value-format\":\"yyyy-MM-dd HH:mm\",placeholder:\"选择日期时间\"},model:{value:e.form.time,callback:function(t){e.$set(e.form,\"time\",t)},expression:\"form.time\"}})],1),o(\"el-form-item\",{attrs:{label:\"监考老师\"}},[o(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.form.teacher,callback:function(t){e.$set(e.form,\"teacher\",t)},expression:\"form.teacher\"}})],1),o(\"el-form-item\",{attrs:{label:\"课程\"}},[o(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:e.form.courseId,callback:function(t){e.$set(e.form,\"courseId\",t)},expression:\"form.courseId\"}},e._l(e.courses,(function(e){return o(\"el-option\",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),o(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[o(\"el-button\",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(\"取 消\")]),o(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.save}},[e._v(\"确 定\")])],1)],1),o(\"el-dialog\",{attrs:{title:\"选择试卷\",visible:e.dialogFormVisible1,width:\"40%\",\"close-on-click-modal\":!1},on:{\"update:visible\":function(t){e.dialogFormVisible1=t}}},[o(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:e.form1.paperId,callback:function(t){e.$set(e.form1,\"paperId\",t)},expression:\"form1.paperId\"}},e._l(e.papers,(function(e){return o(\"el-option\",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),o(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[o(\"el-button\",{on:{click:function(t){e.dialogFormVisible1=!1}}},[e._v(\"取 消\")]),o(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.saveSelect()}}},[e._v(\"确 定\")])],1)],1)],1)},l=[],i=(o(\"b0c0\"),o(\"4de4\"),o(\"d3b7\"),o(\"e9c4\"),o(\"d81d\"),{name:\"Exam\",data:function(){return{tableData:[],total:0,pageNum:1,pageSize:10,name:\"\",form:{},form1:{},dialogFormVisible:!1,dialogFormVisible1:!1,multipleSelection:[],user:localStorage.getItem(\"user\")?JSON.parse(localStorage.getItem(\"user\")):{},courses:[],papers:[]}},created:function(){this.load()},methods:{load:function(){var e=this;this.request.get(\"/exam/page\",{params:{pageNum:this.pageNum,pageSize:this.pageSize,name:this.name}}).then((function(t){e.tableData=t.data.records,e.total=t.data.total})),this.request.get(\"/course\").then((function(t){e.courses=t.data}))},save:function(){var e=this;this.request.post(\"/exam\",this.form).then((function(t){\"200\"===t.code?(e.$message.success(\"保存成功\"),e.dialogFormVisible=!1,e.load()):e.$message.error(\"保存失败\")}))},saveSelect:function(){var e=this;this.request.post(\"/examPaper\",this.form1).then((function(t){\"200\"===t.code?(e.dialogFormVisible1=!1,e.$message.success(\"选择试卷成功\")):e.$message.error(t.msg)}))},handleSelect:function(e){var t=this;this.form1={examId:e.id,paperId:e.paperId},this.request.get(\"/paper\").then((function(o){t.papers=o.data.filter((function(t){return t.courseId===e.courseId}))})),this.request.get(\"/examPaper/exam/\"+e.id).then((function(e){if(\"200\"===e.code){if(console.log(e.data),null===e.data)return void t.$message.error(\"没有试卷\");t.form1.paperId=e.data.paperId,t.dialogFormVisible1=!0}else t.$message.error(e.msg)}))},handleAdd:function(){var e=this;this.dialogFormVisible=!0,this.form={},this.$nextTick((function(){e.$refs.img&&e.$refs.img.clearFiles(),e.$refs.file&&e.$refs.file.clearFiles()}))},handleEdit:function(e){var t=this;this.form=JSON.parse(JSON.stringify(e)),this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs.img&&t.$refs.img.clearFiles(),t.$refs.file&&t.$refs.file.clearFiles()}))},del:function(e){var t=this;this.request.delete(\"/exam/\"+e).then((function(e){\"200\"===e.code?(t.$message.success(\"删除成功\"),t.load()):t.$message.error(\"删除失败\")}))},handleSelectionChange:function(e){console.log(e),this.multipleSelection=e},delBatch:function(){var e=this;if(this.multipleSelection.length){var t=this.multipleSelection.map((function(e){return e.id}));this.request.post(\"/exam/del/batch\",t).then((function(t){\"200\"===t.code?(e.$message.success(\"批量删除成功\"),e.load()):e.$message.error(\"批量删除失败\")}))}else this.$message.error(\"请选择需要删除的数据\")},reset:function(){this.name=\"\",this.load()},handleSizeChange:function(e){console.log(e),this.pageSize=e,this.load()},handleCurrentChange:function(e){console.log(e),this.pageNum=e,this.load()},handleFileUploadSuccess:function(e){this.form.file=e},handleImgUploadSuccess:function(e){this.form.img=e},download:function(e){window.open(e)},exp:function(){window.open(\"http://localhost:9090/exam/export\")},handleExcelImportSuccess:function(){this.$message.success(\"导入成功\"),this.load()}}}),r=i,n=(o(\"9430\"),o(\"2877\")),s=Object(n[\"a\"])(r,a,l,!1,null,null,null);t[\"default\"]=s.exports},\"4de4\":function(e,t,o){\"use strict\";var a=o(\"23e7\"),l=o(\"b727\").filter,i=o(\"1dde\"),r=i(\"filter\");a({target:\"Array\",proto:!0,forced:!r},{filter:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}})},9430:function(e,t,o){\"use strict\";o(\"db6a\")},db6a:function(e,t,o){},e9c4:function(e,t,o){var a=o(\"23e7\"),l=o(\"da84\"),i=o(\"d066\"),r=o(\"2ba4\"),n=o(\"e330\"),s=o(\"d039\"),c=l.Array,u=i(\"JSON\",\"stringify\"),d=n(/./.exec),m=n(\"\".charAt),f=n(\"\".charCodeAt),p=n(\"\".replace),h=n(1..toString),g=/[\\uD800-\\uDFFF]/g,b=/^[\\uD800-\\uDBFF]$/,v=/^[\\uDC00-\\uDFFF]$/,y=function(e,t,o){var a=m(o,t-1),l=m(o,t+1);return d(b,e)&&!d(v,l)||d(v,e)&&!d(b,a)?\"\\\\u\"+h(f(e,0),16):e},S=s((function(){return'\"\\\\udf06\\\\ud834\"'!==u(\"\\udf06\\ud834\")||'\"\\\\udead\"'!==u(\"\\udead\")}));u&&a({target:\"JSON\",stat:!0,forced:S},{stringify:function(e,t,o){for(var a=0,l=arguments.length,i=c(l);a<l;a++)i[a]=arguments[a];var n=r(u,null,i);return\"string\"==typeof n?p(n,g,y):n}})}}]);","extractedComments":[]}