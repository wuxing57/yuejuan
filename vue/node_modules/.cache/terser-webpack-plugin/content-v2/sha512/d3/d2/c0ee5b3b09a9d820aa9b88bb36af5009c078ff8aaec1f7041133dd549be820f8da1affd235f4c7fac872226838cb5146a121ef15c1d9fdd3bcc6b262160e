{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-17230fb4\"],{\"112a\":function(e,t,o){\"use strict\";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(\"div\",[o(\"div\",{staticStyle:{margin:\"10px 0\"}},[o(\"el-input\",{staticStyle:{width:\"200px\"},attrs:{placeholder:\"请输入名称\",\"suffix-icon\":\"el-icon-search\"},model:{value:e.name,callback:function(t){e.name=t},expression:\"name\"}}),o(\"el-button\",{staticClass:\"ml-5\",attrs:{type:\"primary\"},on:{click:e.load}},[e._v(\"搜索\")]),o(\"el-button\",{attrs:{type:\"warning\"},on:{click:e.reset}},[e._v(\"重置\")])],1),o(\"div\",{staticStyle:{margin:\"10px 0\"}},[o(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.handleAdd}},[e._v(\"新增 \"),o(\"i\",{staticClass:\"el-icon-circle-plus-outline\"})]),o(\"el-popconfirm\",{staticClass:\"ml-5\",attrs:{\"confirm-button-text\":\"确定\",\"cancel-button-text\":\"我再想想\",icon:\"el-icon-info\",\"icon-color\":\"red\",title:\"您确定批量删除这些数据吗？\"},on:{confirm:e.delBatch}},[o(\"el-button\",{attrs:{slot:\"reference\",type:\"danger\"},slot:\"reference\"},[e._v(\"批量删除 \"),o(\"i\",{staticClass:\"el-icon-remove-outline\"})])],1)],1),o(\"el-table\",{attrs:{data:e.tableData,border:\"\",stripe:\"\",\"header-cell-class-name\":\"headerBg\"},on:{\"selection-change\":e.handleSelectionChange}},[o(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\"}}),o(\"el-table-column\",{attrs:{prop:\"id\",label:\"ID\",width:\"80\",sortable:\"\"}}),o(\"el-table-column\",{attrs:{prop:\"name\",label:\"试卷名称\"}}),o(\"el-table-column\",{attrs:{prop:\"score\",label:\"试卷总分\"}}),o(\"el-table-column\",{attrs:{prop:\"duration\",label:\"考试时长(分钟)\"}}),o(\"el-table-column\",{attrs:{label:\"所属课程\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[o(\"span\",[e._v(e._s(e.courses.find((function(e){return e.id===t.row.courseId})).name))])]}}])}),o(\"el-table-column\",{attrs:{label:\"查看试卷\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[o(\"el-button\",{attrs:{type:\"success\"},on:{click:function(o){return e.viewPaper(t.row.id)}}},[e._v(\"查看\"),o(\"i\",{staticClass:\"el-icon-edit\"})])]}}])}),o(\"el-table-column\",{attrs:{label:\"操作\",width:\"380\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[o(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(o){return e.handleAutoPaper(t.row.id,t.row.courseId)}}},[e._v(\"自动组卷 \"),o(\"i\",{staticClass:\"el-icon-circle-plus-outline\"})]),o(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(o){return e.handlePaper(t.row.id,t.row.courseId)}}},[e._v(\"手动组卷 \"),o(\"i\",{staticClass:\"el-icon-circle-plus-outline\"})]),o(\"el-button\",{attrs:{type:\"success\"},on:{click:function(o){return e.handleEdit(t.row)}}},[e._v(\"编辑 \"),o(\"i\",{staticClass:\"el-icon-edit\"})]),o(\"el-popconfirm\",{staticClass:\"ml-5\",attrs:{\"confirm-button-text\":\"确定\",\"cancel-button-text\":\"我再想想\",icon:\"el-icon-info\",\"icon-color\":\"red\",title:\"您确定删除吗？\"},on:{confirm:function(o){return e.del(t.row.id)}}},[o(\"el-button\",{attrs:{slot:\"reference\",type:\"danger\"},slot:\"reference\"},[e._v(\"删除 \"),o(\"i\",{staticClass:\"el-icon-remove-outline\"})])],1)]}}])})],1),o(\"div\",{staticStyle:{padding:\"10px 0\"}},[o(\"el-pagination\",{attrs:{\"current-page\":e.pageNum,\"page-sizes\":[2,5,10,20],\"page-size\":e.pageSize,layout:\"total, sizes, prev, pager, next, jumper\",total:e.total},on:{\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}})],1),o(\"el-dialog\",{attrs:{title:\"信息\",visible:e.dialogFormVisible,width:\"40%\",\"close-on-click-modal\":!1},on:{\"update:visible\":function(t){e.dialogFormVisible=t}}},[o(\"el-form\",{staticStyle:{width:\"80%\",margin:\"0 auto\"},attrs:{\"label-width\":\"120px\",size:\"small\"}},[o(\"el-form-item\",{attrs:{label:\"试卷名称\"}},[o(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.form.name,callback:function(t){e.$set(e.form,\"name\",t)},expression:\"form.name\"}})],1),o(\"el-form-item\",{attrs:{label:\"试卷总分\"}},[o(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.form.score,callback:function(t){e.$set(e.form,\"score\",t)},expression:\"form.score\"}})],1),o(\"el-form-item\",{attrs:{label:\"考试时长(分钟)\"}},[o(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.form.duration,callback:function(t){e.$set(e.form,\"duration\",t)},expression:\"form.duration\"}})],1),o(\"el-form-item\",{attrs:{label:\"课程\"}},[o(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:e.form.courseId,callback:function(t){e.$set(e.form,\"courseId\",t)},expression:\"form.courseId\"}},e._l(e.courses,(function(e){return o(\"el-option\",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),o(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[o(\"el-button\",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(\"取 消\")]),o(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.save}},[e._v(\"确 定\")])],1)],1),o(\"el-dialog\",{attrs:{title:\"信息\",visible:e.dialogFormVisible1,width:\"40%\",\"close-on-click-modal\":!1},on:{\"update:visible\":function(t){e.dialogFormVisible1=t}}},[o(\"el-form\",{staticStyle:{width:\"80%\",margin:\"0 auto\"},attrs:{\"label-width\":\"120px\",size:\"small\"}},[o(\"el-form-item\",{attrs:{label:\"选择题\"}},[o(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.form1.type1,callback:function(t){e.$set(e.form1,\"type1\",t)},expression:\"form1.type1\"}})],1),o(\"el-form-item\",{attrs:{label:\"填空题\"}},[o(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.form1.type2,callback:function(t){e.$set(e.form1,\"type2\",t)},expression:\"form1.type2\"}})],1),o(\"el-form-item\",{attrs:{label:\"问答题\"}},[o(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.form1.type3,callback:function(t){e.$set(e.form1,\"type3\",t)},expression:\"form1.type3\"}})],1)],1),o(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[o(\"el-button\",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(\"取 消\")]),o(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.generatorPaper}},[e._v(\"确 定\")])],1)],1),o(\"el-dialog\",{attrs:{title:\"试卷信息\",visible:e.dialogFormVisible2,width:\"40%\",\"close-on-click-modal\":!1},on:{\"update:visible\":function(t){e.dialogFormVisible2=t}}},[o(\"div\",e._l(e.papers,(function(t,i){return o(\"div\",{key:e.papers.id},[o(\"div\",[e._v(\" \"+e._s(i+1)+\".\"+e._s(t.name)+\" \"),1===t.type?o(\"span\",[e._v(\"(选择题)\")]):e._e(),2===t.type?o(\"span\",[e._v(\"(填空题)\")]):e._e(),3===t.type?o(\"span\",[e._v(\"(问答题)\")]):e._e()]),1===t.type?o(\"div\",[o(\"span\",[e._v(\"A.\"+e._s(t.a))]),o(\"span\",[e._v(\"B.\"+e._s(t.b))]),o(\"span\",[e._v(\"C.\"+e._s(t.c))]),o(\"span\",[e._v(\"D.\"+e._s(t.d))])]):e._e(),o(\"div\",[e._v(\"答案：\"+e._s(t.answer))]),o(\"div\",[e._v(\"解析：\"+e._s(t.detial))])])})),0)])],1)},s=[],a=(o(\"b0c0\"),o(\"e9c4\"),o(\"d81d\"),{data:function(){return{tableData:[],total:0,pageNum:1,pageSize:10,name:\"\",form:{},form1:{},form2:{},dialogFormVisible:!1,dialogFormVisible1:!1,dialogFormVisible2:!1,dialogFormVisible3:!1,dialogAddQuestion:!1,multipleSelection:[],user:localStorage.getItem(\"user\")?JSON.parse(localStorage.getItem(\"user\")):{},courses:[],papers:[],questions:[],questionList:[],type:\"\",courseId:\"\"}},created:function(){this.load()},methods:{load:function(){var e=this;this.request.get(\"/paper/page\",{params:{pageNum:this.pageNum,pageSize:this.pageSize,name:this.name}}).then((function(t){e.tableData=t.data.records,e.total=t.data.total})),this.request.get(\"/course\").then((function(t){e.courses=t.data}))},questionType:function(e){return 1===e?\"选择题\":2===e?\"判断题\":3===e?\"问答题\":void 0},generatorPaper:function(){var e=this;this.request.post(\"/paper/generatorPaper\",this.form1).then((function(t){\"200\"===t.code?(e.$message.success(\"组卷成功\"),e.dialogFormVisible1=!1,e.load()):e.$message.error(\"组卷失败\")}))},addQuestion:function(e){this.dialogAddQuestion=!0,this.$store.commit(\"open\"),this.$store.state.closeQuestionList&&(this.dialogAddQuestion=!1,this.handlePaper(e))},loadQuestion:function(){this.this.getPaperQuestion(this.$store.state.paperId)},delQuestion:function(e){var t=this;this.request.delete(\"/paperQuestion/question-id/\"+e).then((function(e){\"200\"===e.code&&t.$message.success(\"删除成功\"),t.getPaperQuestion(t.$store.state.paperId)}))},viewPaper:function(e){var t=this;this.request.get(\"/paper/view/\"+e).then((function(e){\"200\"===e.code?(t.i=0,t.$message.success(\"查看试卷成功\"),t.dialogFormVisible2=!0,t.papers=e.data):t.$message.error(\"查看试卷失败\")}))},save:function(){var e=this;this.request.post(\"/paper\",this.form).then((function(t){\"200\"===t.code?(e.$message.success(\"保存成功\"),e.dialogFormVisible=!1,e.load()):e.$message.error(\"保存失败\")}))},handleAutoPaper:function(e,t){this.form1={type1:4,type2:4,type3:2,paperId:e,courseId:t},this.dialogFormVisible1=!0},handlePaper:function(e,t){console.log(e),this.$router.push({name:\"getPaper\",query:{paperId:e,courseId:t}})},getPaperQuestion:function(e){var t=this;this.request.get(\"/paperQuestion/get-question/\"+e).then((function(e){t.questionList=e.data,console.log(\"questionList\"+t.questionList)}))},handleAdd:function(){var e=this;this.dialogFormVisible=!0,this.form={},this.$nextTick((function(){e.$refs.img&&e.$refs.img.clearFiles(),e.$refs.file&&e.$refs.file.clearFiles()}))},handleEdit:function(e){var t=this;this.form=JSON.parse(JSON.stringify(e)),this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs.img&&t.$refs.img.clearFiles(),t.$refs.file&&t.$refs.file.clearFiles()}))},del:function(e){var t=this;this.request.delete(\"/paper/\"+e).then((function(e){\"200\"===e.code?(t.$message.success(\"删除成功\"),t.load()):t.$message.error(\"删除失败\")}))},handleSelectionChange:function(e){console.log(e),this.multipleSelection=e},delBatch:function(){var e=this;if(this.multipleSelection.length){var t=this.multipleSelection.map((function(e){return e.id}));this.request.post(\"/paper/del/batch\",t).then((function(t){\"200\"===t.code?(e.$message.success(\"批量删除成功\"),e.load()):e.$message.error(\"批量删除失败\")}))}else this.$message.error(\"请选择需要删除的数据\")},reset:function(){this.name=\"\",this.load()},handleSizeChange:function(e){this.pageSize=e,this.load()},handleCurrentChange:function(e){this.pageNum=e,this.load()},handleFileUploadSuccess:function(e){this.form.file=e},handleImgUploadSuccess:function(e){this.form.img=e},download:function(e){window.open(e)},exp:function(){window.open(\"http://localhost:9090/paper/export\")},handleExcelImportSuccess:function(){this.$message.success(\"导入成功\"),this.load()}}}),n=a,l=(o(\"d01a\"),o(\"2877\")),r=Object(l[\"a\"])(n,i,s,!1,null,null,null);t[\"default\"]=r.exports},b343:function(e,t,o){},d01a:function(e,t,o){\"use strict\";o(\"b343\")},e9c4:function(e,t,o){var i=o(\"23e7\"),s=o(\"da84\"),a=o(\"d066\"),n=o(\"2ba4\"),l=o(\"e330\"),r=o(\"d039\"),c=s.Array,u=a(\"JSON\",\"stringify\"),d=l(/./.exec),p=l(\"\".charAt),f=l(\"\".charCodeAt),m=l(\"\".replace),h=l(1..toString),g=/[\\uD800-\\uDFFF]/g,b=/^[\\uD800-\\uDBFF]$/,v=/^[\\uDC00-\\uDFFF]$/,y=function(e,t,o){var i=p(o,t-1),s=p(o,t+1);return d(b,e)&&!d(v,s)||d(v,e)&&!d(b,i)?\"\\\\u\"+h(f(e,0),16):e},_=r((function(){return'\"\\\\udf06\\\\ud834\"'!==u(\"\\udf06\\ud834\")||'\"\\\\udead\"'!==u(\"\\udead\")}));u&&i({target:\"JSON\",stat:!0,forced:_},{stringify:function(e,t,o){for(var i=0,s=arguments.length,a=c(s);i<s;i++)a[i]=arguments[i];var l=n(u,null,a);return\"string\"==typeof l?m(l,g,y):l}})}}]);","extractedComments":[]}