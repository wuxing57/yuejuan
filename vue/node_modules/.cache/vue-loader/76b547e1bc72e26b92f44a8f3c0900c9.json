{"remainingRequest":"D:\\daima\\java\\springboot\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\daima\\java\\springboot\\vue\\src\\views\\Grade.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\daima\\java\\springboot\\vue\\src\\views\\Grade.vue","mtime":1681544320244},{"path":"D:\\daima\\java\\springboot\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670775870315},{"path":"D:\\daima\\java\\springboot\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1670775870320},{"path":"D:\\daima\\java\\springboot\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670775870315},{"path":"D:\\daima\\java\\springboot\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1670775868363}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgcmVxdWVzdCBmcm9tICJAL3V0aWxzL3JlcXVlc3QiOw0KaW1wb3J0ICogYXMgZWNoYXJ0cyBmcm9tICJlY2hhcnRzIjsNCmltcG9ydCB7anNvbn0gZnJvbSAiY2FuaXVzZS1saXRlL2RhdGEvZmVhdHVyZXMiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGV4YW1JZDogdGhpcy4kcm91dGUucXVlcnkuaWQsDQogICAgICB1c2VyOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpID8gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpKSA6IHt9LA0KICAgICAgZXhhbTpbXSwNCiAgICAgIGF2Z01hcDpbXSwNCiAgICAgICAgcGFwZXJFeGFtTmFtZTpudWxsLA0KICAgICAgICBwYXBlclVzZXJOYW1lOm51bGwsDQogICAgICAgIHRhYmxlRGF0YTogW10sDQogICAgICAgIHN0dWRlbnQ6IFtdLA0KICAgICAgICBwYXBlcnM6IFtdLA0KICAgICAgICBzY29yZSA6IG51bGwsDQogICAgICAgIHRvdGFsOiAwLA0KICAgICAgICBwYWdlTnVtOiAxLA0KICAgICAgICBwYWdlU2l6ZTogMTAsDQogICAgICAgIHN0dWRlbnRJZDogIiIsDQogICAgICAgIGZvcm06IHt9LA0KICAgICAgICBtdWx0aXBsZVNlbGVjdGlvbjogW10sDQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMubG9hZCgpDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5kcmF3Q2hhcnQoKQ0KICB9LA0KICBtZXRob2RzOnsNCiAgICBsb2FkKCl7DQogICAgICAgIC8vDQogICAgICAgIHRoaXMucmVxdWVzdC5nZXQoIi9zdHVkZW50UGFwZXIvcGFnZSIsIHsNCiAgICAgICAgICAgIHBhcmFtczogew0KICAgICAgICAgICAgICAgIHBhZ2VOdW06IHRoaXMucGFnZU51bSwNCiAgICAgICAgICAgICAgICBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZSwNCiAgICAgICAgICAgICAgICBleGFtSWQ6IHRoaXMuZXhhbUlkLA0KICAgICAgICAgICAgICAgIHN0dWRlbnRJZDogdGhpcy5zdHVkZW50SWQsDQogICAgICAgICAgICB9DQogICAgICAgIH0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGEucmVjb3Jkcw0KICAgICAgICAgICAgdGhpcy50b3RhbCA9IHJlcy5kYXRhLnRvdGFsDQogICAgICAgIH0pDQogICAgICByZXF1ZXN0LmdldCgiL2V4YW0vIit0aGlzLmV4YW1JZCkudGhlbihyZXM9PnsNCiAgICAgICAgdGhpcy5leGFtID0gcmVzLmRhdGENCiAgICAgIH0pDQoNCiAgfSwNCiAgICAgIGhhbmRsZVNpemVDaGFuZ2UocGFnZVNpemUpIHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhwYWdlU2l6ZSkNCiAgICAgICAgICB0aGlzLnBhZ2VTaXplID0gcGFnZVNpemUNCiAgICAgICAgICB0aGlzLmxvYWQoKQ0KICAgICAgfSwNCiAgICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UocGFnZU51bSkgew0KICAgICAgICAgIGNvbnNvbGUubG9nKHBhZ2VOdW0pDQogICAgICAgICAgdGhpcy5wYWdlTnVtID0gcGFnZU51bQ0KICAgICAgICAgIHRoaXMubG9hZCgpDQogICAgICB9LA0KICAgICAgcmVzZXQoKSB7DQogICAgICAgICAgdGhpcy5uYW1lID0gIiINCiAgICAgICAgICB0aGlzLmxvYWQoKQ0KICAgICAgfSwNCiAgICAgIGV4cCgpIHsNCiAgICAgICAgICB3aW5kb3cub3BlbigiaHR0cDovL2xvY2FsaG9zdDo5MDkwL3N0dWRlbnRQYXBlci9leHBvcnQvIit0aGlzLmV4YW1JZCkNCiAgICAgIH0sDQogICAgZHJhd0NoYXJ0KCkgew0KICAgICAgcmVxdWVzdC5nZXQoIi9lY2hhcnRzL2dyYWRlLyIrdGhpcy5leGFtSWQpLnRoZW4ocmVzID0+ew0KICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gJzIwMCcpew0KICAgICAgICAgICAgdGhpcy5hdmdNYXAgPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEpKQ0KICAgICAgICAgICAgY29uc3QgY2xhID0gW10NCiAgICAgICAgICAgIHRoaXMuYXZnTWFwLnguZm9yRWFjaCh2PT57DQogICAgICAgICAgICAgIGNsYS5wdXNoKHYpDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgY29uc29sZS5sb2coY2xhKQ0KICAgICAgICAgICAgY29uc3Qgc2NvcmUgPSBbXQ0KICAgICAgICAgICAgdGhpcy5hdmdNYXAueS5mb3JFYWNoKHY9PnsNCiAgICAgICAgICAgICAgc2NvcmUucHVzaCh2KQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHNjb3JlKQ0KICAgICAgICAgICAgLy8g5Z+65LqO5YeG5aSH5aW955qEZG9t77yM5Yid5aeL5YyWZWNoYXJ0c+WunuS+iyAg6L+Z5Liq5ZKM5LiK6Z2i55qEbWFpbuWvueW6lA0KICAgICAgICAgICAgdmFyIGNoYXJ0RG9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4nKTsNCiAgICAgICAgICAgIHZhciBteUNoYXJ0ID0gZWNoYXJ0cy5pbml0KGNoYXJ0RG9tKTsNCiAgICAgICAgICAgIC8vIOaMh+WumuWbvuihqOeahOmFjee9rumhueWSjOaVsOaNrg0KICAgICAgICAgICAgbGV0IG9wdGlvbiA9IHsNCiAgICAgICAgICAgICAgdGl0bGU6ew0KICAgICAgICAgICAgICAgIHRleHQ6IuW5s+Wdh+aIkOe7qSINCiAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgeEF4aXM6IHsNCiAgICAgICAgICAgICAgICBuYW1lOifnj63nuqcnLA0KICAgICAgICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeScsDQogICAgICAgICAgICAgICAgZGF0YTogY2xhDQogICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgIHlBeGlzOiB7DQogICAgICAgICAgICAgICAgbmFtZTogIuWIhuaVsCIsDQogICAgICAgICAgICAgICAgdHlwZTogJ3ZhbHVlJw0KICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICBzZXJpZXM6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICBkYXRhOiBzY29yZSwNCiAgICAgICAgICAgICAgICAgIHR5cGU6ICdiYXInDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICB0b29sdGlwOnsNCiAgICAgICAgICAgICAgICB0cmlnZ2VyOiAnYXhpcycsDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH07DQogICAgICAgICAgICAvLyDkvb/nlKjliJrmjIflrprnmoTphY3nva7pobnlkozmlbDmja7mmL7npLrlm77ooajjgIINCiAgICAgICAgICAgIG15Q2hhcnQuc2V0T3B0aW9uKG9wdGlvbik7DQogICAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICB9DQp9DQo="},{"version":3,"sources":["Grade.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Grade.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        {{exam.name}}\r\n        <div>\r\n            <div style=\"margin: 10px 0\">\r\n                <el-select v-model=\"studentId\" placeholder=\"请选择学生\" >\r\n                    <el-option\r\n                        v-for=\"item in student\"\r\n                        :key=\"item.id\" :label=\"item.username\" :value=\"item.id\">\r\n                    </el-option>\r\n                </el-select>\r\n                <!--      <el-input style=\"width: 200px\" placeholder=\"请输入\" suffix-icon=\"el-icon-message\" class=\"ml-5\" v-model=\"email\"></el-input>-->\r\n                <!--      <el-input style=\"width: 200px\" placeholder=\"请输入\" suffix-icon=\"el-icon-position\" class=\"ml-5\" v-model=\"address\"></el-input>-->\r\n                <el-button class=\"ml-5\" type=\"primary\" @click=\"load\">搜索</el-button>\r\n                <el-button type=\"warning\" @click=\"reset\">重置</el-button>\r\n            </div>\r\n            <div>\r\n                <el-button type=\"primary\" @click=\"exp\" class=\"ml-5\">导出 <i class=\"el-icon-top\"></i></el-button>\r\n            </div>\r\n\r\n            <el-table :data=\"tableData\" border stripe :header-cell-class-name=\"'headerBg'\"  @selection-change=\"handleSelectionChange\">\r\n                <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n                <el-table-column prop=\"id\" label=\"ID\" width=\"80\" sortable></el-table-column>\r\n                <el-table-column prop=\"examId\" label=\"考试\">\r\n                    <template v-slot=\"scope\">\r\n                        <span>{{exam.name}}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"studentName\" label=\"学生\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"time\" label=\"提交时间\"></el-table-column>\r\n                <el-table-column prop=\"score\" label=\"得分\"></el-table-column>\r\n                <el-table-column prop=\"claName\" label=\"班级\"></el-table-column>\r\n            </el-table>\r\n            <div style=\"padding: 10px 0\">\r\n                <el-pagination\r\n                    @size-change=\"handleSizeChange\"\r\n                    @current-change=\"handleCurrentChange\"\r\n                    :current-page=\"pageNum\"\r\n                    :page-sizes=\"[2, 5, 10, 20]\"\r\n                    :page-size=\"pageSize\"\r\n                    layout=\"total, sizes, prev, pager, next, jumper\"\r\n                    :total=\"total\">\r\n                </el-pagination>\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <div id=\"main\" style=\"width: 600px; height: 400px\"></div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\nimport * as echarts from \"echarts\";\r\nimport {json} from \"caniuse-lite/data/features\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      examId: this.$route.query.id,\r\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {},\r\n      exam:[],\r\n      avgMap:[],\r\n        paperExamName:null,\r\n        paperUserName:null,\r\n        tableData: [],\r\n        student: [],\r\n        papers: [],\r\n        score : null,\r\n        total: 0,\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        studentId: \"\",\r\n        form: {},\r\n        multipleSelection: [],\r\n    }\r\n  },\r\n  created() {\r\n    this.load()\r\n  },\r\n  mounted() {\r\n    this.drawChart()\r\n  },\r\n  methods:{\r\n    load(){\r\n        //\r\n        this.request.get(\"/studentPaper/page\", {\r\n            params: {\r\n                pageNum: this.pageNum,\r\n                pageSize: this.pageSize,\r\n                examId: this.examId,\r\n                studentId: this.studentId,\r\n            }\r\n        }).then(res => {\r\n            this.tableData = res.data.records\r\n            this.total = res.data.total\r\n        })\r\n      request.get(\"/exam/\"+this.examId).then(res=>{\r\n        this.exam = res.data\r\n      })\r\n\r\n  },\r\n      handleSizeChange(pageSize) {\r\n          console.log(pageSize)\r\n          this.pageSize = pageSize\r\n          this.load()\r\n      },\r\n      handleCurrentChange(pageNum) {\r\n          console.log(pageNum)\r\n          this.pageNum = pageNum\r\n          this.load()\r\n      },\r\n      reset() {\r\n          this.name = \"\"\r\n          this.load()\r\n      },\r\n      exp() {\r\n          window.open(\"http://localhost:9090/studentPaper/export/\"+this.examId)\r\n      },\r\n    drawChart() {\r\n      request.get(\"/echarts/grade/\"+this.examId).then(res =>{\r\n          if (res.code === '200'){\r\n            this.avgMap =JSON.parse(JSON.stringify(res.data))\r\n            const cla = []\r\n            this.avgMap.x.forEach(v=>{\r\n              cla.push(v)\r\n            })\r\n            console.log(cla)\r\n            const score = []\r\n            this.avgMap.y.forEach(v=>{\r\n              score.push(v)\r\n            })\r\n            console.log(score)\r\n            // 基于准备好的dom，初始化echarts实例  这个和上面的main对应\r\n            var chartDom = document.getElementById('main');\r\n            var myChart = echarts.init(chartDom);\r\n            // 指定图表的配置项和数据\r\n            let option = {\r\n              title:{\r\n                text:\"平均成绩\"\r\n              },\r\n              xAxis: {\r\n                name:'班级',\r\n                type: 'category',\r\n                data: cla\r\n              },\r\n              yAxis: {\r\n                name: \"分数\",\r\n                type: 'value'\r\n              },\r\n              series: [\r\n                {\r\n                  data: score,\r\n                  type: 'bar'\r\n                }\r\n              ],\r\n              tooltip:{\r\n                trigger: 'axis',\r\n              }\r\n            };\r\n            // 使用刚指定的配置项和数据显示图表。\r\n            myChart.setOption(option);\r\n          }\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}